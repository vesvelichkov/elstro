<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Електростроежи АД - гр. Хасково</title>
    <meta name="description" content="Проучване, проектиране, строителство и поддържане на електрически мрежи, подстанции и трафопостове.">
    <meta name="keywords" content="проучване, проектиране, строителство, поддържане, електрически мрежи, подстанции, трафопостове">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="css/app.css">
</head>
<body>
    <div class="shell">
        @@include('header.html')
        @@include('main.html')
        @@include('footer.html')
    </div>
    <div class="bg-img"></div>
    <!-- Scripts -->
    <script>
        // Loads content smoothly
        var body  = document.getElementsByTagName('body')[0];
        var main  = document.getElementById('main');
        var close = document.getElementById('close');
        var navLink = document.getElementsByClassName('nav-link');

        body.classList.add('is-loading');
        window.addEventListener('load', function() {
            window.setTimeout(function() {
                body.classList.remove('is-loading');
            }, 104);
        });

        function showMain() {
            body.classList.add('is-main-visible');
            // main.style.display = 'block';
        }
        function hideMain() {
            body.classList.remove('is-main-visible');
        }

        // When the user clicks anywhere outside of the main, close it
        window.onclick = function(event) {
            if (event.target == main) {
                hideMain();
            }
        }

        document.onkeyup = function(evt) {
            evt = evt || window.event;
            if (evt.keyCode == 27) {
                hideMain();
            }
        };

        //======== TODO
        var navLinks = document.getElementsByClassName('nav-link');
        var articles = document.getElementsByClassName('article');

        function showArticle(id) {
            // Hide all artticles
            for(var i = 0; i < articles.length; i++) {
                articles[i].style.display = 'none';
            }
            // Show article by given id
            document.getElementById(id).style.display = 'block';
            document.getElementById(id).appendChild(close);
        }

        for(var i = 0; i < navLinks.length; i++) {
            navLinks[i].onclick = function() {
                showMain();
                showArticle(this.getAttribute('href').substring(1));
                return false;
            }
        }

        // [].forEach.call(navLinks, function (link) { });

        //======== TODO end

    </script>
</body>
</html>
